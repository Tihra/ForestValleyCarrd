<div id="openBox" style="display: none;">
  <p style="color: green;">üè† We are Open!</p>
</div>

<div id="closedBox" style="display: none;">
  <p style="color: red;">
    We are Closed ‚Äì Opening in <span id="countdown"></span>
  </p>
</div>

<script>
function updateVenueStatus() {
  const now = new Date();

  // Get time in AEST/AEDT (Australia/Sydney)
  const sydneyNow = new Date(now.toLocaleString('en-US', { timeZone: 'Australia/Sydney' }));
  const day = sydneyNow.getDay(); // Sunday = 0
  const hour = sydneyNow.getHours();

  const isSunday = (day === 0);
  const isOpenTime = (hour >= 19 || hour === 0); // 7 PM to 12 AM
  const isOpen = isSunday && isOpenTime;

  const openBox = document.getElementById('openBox');
  const closedBox = document.getElementById('closedBox');
  const countdown = document.getElementById('countdown');

  if (isOpen) {
    openBox.style.display = 'block';
    closedBox.style.display = 'none';
  } else {
    openBox.style.display = 'none';
    closedBox.style.display = 'block';

    // Calculate next Sunday 7:00 PM in AEST/AEDT
    let nextOpen = new Date(sydneyNow);
    let daysUntilSunday = (7 - sydneyNow.getDay()) % 7;
    if (sydneyNow.getDay() === 0 && sydneyNow.getHours() >= 19) {
      daysUntilSunday = 7; // Next week
    }
    nextOpen.setDate(sydneyNow.getDate() + daysUntilSunday);
    nextOpen.setHours(19, 0, 0, 0); // 7:00 PM

    const diff = nextOpen - sydneyNow;

    const totalSeconds = Math.floor(diff / 1000);
    const days = Math.floor(totalSeconds / (60 * 60 * 24));
    const hours = Math.floor((totalSeconds % (60 * 60 * 24)) / 3600);
    const minutes = Math.floor((totalSeconds % 3600) / 60);
    const seconds = totalSeconds % 60;

    countdown.textContent =
      `${days}d : ` +
      `${String(hours).padStart(2, '0')}h : ` +
      `${String(minutes).padStart(2, '0')}m : ` +
      `${String(seconds).padStart(2, '0')}s`;
  }
}

// Run on load and update every second
updateVenueStatus();
setInterval(updateVenueStatus, 1000);
</script>
